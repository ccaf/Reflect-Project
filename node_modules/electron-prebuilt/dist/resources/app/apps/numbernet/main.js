define(function() {
  var exports = {};
  var cb;

  exports.start = function(_cb) {
    cb = _cb;
    css('/apps/numbernet/styles.css');


  };

  exports.onchange = function(state) {

  };

  var calculator = {
    'controller': function(args) {
      args = args || {}
      return {
        'disabledKeys': args.disabledKeys,
        'screen': ''
      };
    },
    'view': function() {
      var keyOrder = [7, 8, 9, '+', 4, 5, 6, '-', 1, 2, 3, '÷', 0, '.', '=', '×'];
      var operators = ['+', '-', '÷', '×'];
      return (
        m('div#calculator', [
          m('div.top', [
            m('span.clear', ['C']),
            m('div.screen')
          ]),
          m('div.keys', [
            keyOrder.map(function(key) {
              var class;
              if (operators.indexOf(key) !== -1)
                class = '.operator';
              else if (key === '=')
                class = '.eval';
              else
                class = '';

              return m('span, key);
            })
          ])
        ])
      );
    }
  };

  var calc = document.createElement('div');
  m.mount(calc, calculator);
  document.getElementById('app').appendChild(calc);

  return exports;
});
